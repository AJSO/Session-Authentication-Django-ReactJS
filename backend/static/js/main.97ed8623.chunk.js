(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),s=a.n(c),r=a(20),o=a.n(r),i=a(10),l=a(3),u=a(13),j=a(11),d=a.n(j),b=a(17),h=a(18),m=a.n(h),p=a(22),O=a.n(p),x="REGISTER_SUCCESS",f="REGISTER_FAIL",g="LOGIN_SUCCESS",v="LOGIN_FAIL",N="LOGOUT_SUCCESS",y="LOGOUT_FAIL",w=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":O.a.get("csrfToken")}},n=JSON.stringify({withCredentials:!0}),e.prev=2,e.next=5,m.a.post("".concat("http://localhost:8000","/users/logout"),n,a);case 5:e.sent.data.success?t({type:N}):t({type:y}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:y});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.logout,s=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",to:"/dashboard",children:"Dashboard"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",onClick:a,href:"#!",children:"Logout"})})]}),r=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",to:"/register",children:"Register"})})]});return Object(n.jsx)("div",{children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)(i.b,{className:"navbar-brand",exact:!0,to:"/",children:"Session Auth"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(n.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:t?s:r}),Object(n.jsxs)("form",{className:"d-flex",children:[Object(n.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(n.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})]})]})})})})),S=function(e){var t=e.children;return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(w,{}),t]})},k=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("header",{className:"masthead text-white text-center bg-info mt-5",children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-9 mx-auto",children:Object(n.jsx)("h1",{className:"mb-5 mt-5",children:"Session Authentication"})}),Object(n.jsx)("div",{className:"col-md-10 col-lg-8 col-xl-7 mx-auto"})]})})]})})},C=a(16),A=a(8),T=a(14),F=(a(69),function(){var e=Object(c.useState)(""),t=Object(T.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat("http://localhost:8000","/users/csrf_cookie"));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()(),s(function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=a[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrfToken"))}),[]),Object(n.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:a})}),L=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e,t,a){return function(){var n=Object(b.a)(d.a.mark((function n(c){var s,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={header:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":O.a.get("csrfToken")}},r=JSON.stringify({username:e,password:t,re_password:a}),n.prev=2,n.next=5,m.a.post("".concat("http://localhost:8000","/users/register"),r,s);case 5:n.sent.data.error?c({type:f}):c({type:x}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),c({type:f});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.register,a=e.isAuthenticated,s=Object(c.useState)({username:"",password:"",re_password:""}),r=Object(T.a)(s,2),o=r[0],u=r[1],j=Object(c.useState)(!1),d=Object(T.a)(j,2),b=d[0],h=d[1],m=o.username,p=o.password,O=o.re_password,x=function(e){return u(Object(A.a)(Object(A.a)({},o),{},Object(C.a)({},e.target.name,e.target.value)))};return a?Object(n.jsx)(l.a,{to:"/dashboard"}):b?Object(n.jsx)(l.a,{to:"/login"}):Object(n.jsx)("div",{className:"register",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),p===O&&(t(m,p,O),h(!0))}(e)},children:[Object(n.jsx)(F,{}),Object(n.jsx)("h3",{children:"Register Here"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-label  mt-3",children:"Username:"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,className:"form-control",placeholder:"Username",name:"username",value:m,onChange:function(e){return x(e)},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-label mt-3",children:"Password:"}),Object(n.jsx)("input",{type:"password",autoFocus:!0,className:"form-control",placeholder:"Password",name:"password",value:p,minLength:"6",onChange:function(e){return x(e)},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-label mt-3",children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",autoFocus:!0,className:"form-control",placeholder:"Confirm Password",name:"re_password",value:O,minLength:"6",onChange:function(e){return x(e)},required:!0})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})]}),Object(n.jsxs)("p",{className:"forgot-password text-right mt-3",children:["Already have an account? ",Object(n.jsx)(i.b,{to:"/login",children:"Login"})]})]})})})),R=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(b.a)(d.a.mark((function a(n){var c,s,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={header:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":O.a.get("csrfToken")}},s=JSON.stringify({username:e,password:t}),a.prev=2,a.next=5,m.a.post("".concat("http://localhost:8000","/users/login"),s,c);case 5:(r=a.sent).data.success?n({type:g,payload:r.data.username}):n({type:v}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),n({type:v});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e,t){var a=Object(c.useState)({username:"",password:""}),s=Object(T.a)(a,2),r=s[0],o=s[1],u=r.username,j=r.password,d=function(e){return o(Object(A.a)(Object(A.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))};if(t)return Object(n.jsx)(l.a,{to:"/dashboard"});return Object(n.jsx)("div",{className:"login",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("form",{className:"form",onSubmit:function(t){return function(t){t.preventDefault(),e(u,j)}(t)},children:[Object(n.jsx)(F,{}),Object(n.jsx)("h3",{children:"Log in"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,className:"form-control",placeholder:"Enter Username",value:u,onChange:function(e){return d(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:j,minLength:"6",onChange:function(e){return d(e)}})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(n.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!(u.length>0&&j.length>0),children:"Sign in"}),Object(n.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(n.jsx)("a",{href:"!#",children:"password?"})]}),Object(n.jsxs)("p",{className:"forgot-password text-right",children:["Have no account yet? ",Object(n.jsx)(i.b,{to:"/register",children:"Register"})]})]})})})})),_=function(){return Object(n.jsx)("div",{children:"Dashboard"})},E=a(12),U=a(38),I=a(39),G={isAuthenticated:null,username:"",first_name:"",last_name:"",phone:"",city:""},D=Object(E.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case x:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!0});case g:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0,username:n});case N:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,username:""});case v:case y:case f:default:return e}}}),J=[I.a],P=Object(E.createStore)(D,{},Object(U.composeWithDevTools)(E.applyMiddleware.apply(void 0,J))),q=function(){return Object(n.jsx)(u.a,{store:P,children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(S,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:k}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:R}),Object(n.jsx)(l.b,{exact:!0,path:"/register",component:L}),Object(n.jsx)(l.b,{exact:!0,path:"/dashboard",component:_})]})})})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.97ed8623.chunk.js.map